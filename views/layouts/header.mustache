<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{title}}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

  <div class="d-flex" style="min-height: 100vh;">
   
    {{#user}}
    
     <!-- Sidebar -->
      <div class="sidebar text-white p-3 collapsed">
        <div class="text-center mb-4 logo-container">
          <img src="/images/s8_logo-small.png" class="logo-small" alt="S8 Small Logo" />
          <img src="/images/Simul8-logo-white.svg" class="logo-full" alt="Simul8 Full Logo" />
        </div>

        <a href="/dashboard" class="text-white d-flex align-items-center my-3">
          <i class="fas fa-home fa-lg"></i><span class="ml-2">Dashboard</span>
        </a>
        <a href="/changelog" class="text-white d-flex align-items-center my-3">
          <i class="fas fa-history fa-lg"></i><span class="ml-2">Change Log</span>
        </a>
        <a href="/upload" class="text-white d-flex align-items-center my-3">
          <i class="fas fa-upload fa-lg"></i><span class="ml-2">Upload</span>
        </a>
        <a href="/auth/logout" class="text-white d-flex align-items-center my-3">
          <i class="fas fa-sign-out-alt fa-lg"></i><span class="ml-2">Logout</span>
        </a>

      </div>

      <!-- Main Content -->
       <div class="flex-grow-1 p-4">
          {{{body}}}
        </div>
    {{/user}}
      
      {{^user}}
       {{{body}}}
      {{/user}}   

  </div>

    {{#user}}
    <footer class="footer text-center" style="position: fixed; left: 0; bottom: 0; width: 100%; background-color: #1e2240; color: white; z-index: 1000; padding: 16px 0;">
    <a href="#" data-toggle="modal" data-target="#reportBugModal" class="text-white mx-2">Report Bug</a> |
    <a href="#" data-toggle="modal" data-target="#suggestFeatureModal" class="text-white mx-2">Suggest Feature</a>
    </footer>
    {{/user}}


    <!-- Report Bug Modal -->
    <div class="modal fade" id="reportBugModal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <form method="POST" action="/report-bug" enctype="multipart/form-data" class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Report Bug</h5>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Description</label>
              <textarea name="description" class="form-control" required></textarea>
            </div>
            <div class="form-group">
              <label>Screenshot (optional)</label>
              <input type="file" name="screenshot" accept="image/*" class="form-control-file">
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Suggest Feature Modal -->
    <div class="modal fade" id="suggestFeatureModal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <form method="POST" action="/suggest-feature" class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Suggest Feature</h5>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Your Suggestion</label>
              <textarea name="suggestion" class="form-control" required></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
</body>
</html>